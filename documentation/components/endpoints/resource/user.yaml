post:
  operationId: "create_user"
  tags:
    - User
  summary: Register User
  description: Create a Pizzi user account.
  security:
    - BasicAuth: [ ]
  requestBody:
    description: User's informations.
    content:
      application/json:
        schema:
          $ref: '../../schemas/requests/_index.yaml#/RegisterUser'
  responses:
    '201':
      description: CREATED
    '400':
      description: BAD REQUEST
    '500':
      description: INTERNAL SERVER ERROR

delete:
  operationId: "delete_user"
  tags:
    - User
  summary: Delete User
  description: Delete the Pizzi user account related to the given token.
  security:
    - BearerAuth: [ ]
  requestBody:
    description: User's password.
    content:
      application/json:
        schema:
          $ref: '../../schemas/requests/_index.yaml#/DeleteUser'
  responses:
    '204':
      description: OK
    '401':
      description: UNAUTORIZED
    '500':
      description: INTERNAL SERVER ERROR

patch:
  operationId: "update_user"
  tags:
    - User
  summary: Update User
  description: >
    Update the Pizzi user account related to the given token.
    Notice that every items in the request's body are optionals. However,
    if you try to update a place, you'll need the `place.address` and the
    `place.city` correctly filled.
  security:
    - BearerAuth: [ ]
  requestBody:
    description: User's information.
    content:
      application/json:
        schema:
          $ref: '../../schemas/requests/_index.yaml#/UpdateUser'
  responses:
    '200':
      description: OK
      content:
        application/json:
          schema:
            $ref: '../../schemas/responses/_index.yaml#/UsersInfo'
    '401':
      description: UNAUTORIZED
    '500':
      description: INTERNAL SERVER ERROR
